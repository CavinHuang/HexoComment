<!DOCTYPE html>
<html>

<head>
  <meta charset="utf-8">
  <title></title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <link rel="stylesheet" href="css/style.css">
  <link rel="stylesheet" href="css/comment.css">
</head>

<body>
  <div class="commentAll" id="commentWarrp">

    <!--回复区域 begin-->
    <!-- <div class="comment-show">
      <div class="comment-show-con clearfix">
        <div class="comment-show-con-img pull-left"><img src="images/header-img-comment_03.png" alt=""></div>
        <div class="comment-show-con-list pull-left clearfix">
          <div class="pl-text clearfix">
            <a href="#" class="comment-size-name">张三 : </a>
            <span class="my-pl-con">&nbsp;来啊 造作啊!</span>
          </div>
          <div class="date-dz">
            <span class="date-dz-left pull-left comment-time">2017-5-2 11:11:39</span>
            <div class="date-dz-right pull-right comment-pl-block">
              <a href="javascript:;" class="removeBlock">删除</a>
              <a href="javascript:;" class="date-dz-pl pl-hf hf-con-block pull-left">回复</a>
              <span class="pull-left date-dz-line">|</span>
              <a href="javascript:;" class="date-dz-z pull-left"><i class="date-dz-z-click-red"></i>赞 (<i class="z-num">666</i>)</a>
            </div>
          <div class="hf-list-con" style="display: block;">
            <div class="all-pl-con">
              <div class="pl-text hfpl-text clearfix"><a href="#" class="comment-size-name">我的名字 : </a><span class="my-pl-con">回复<a href="#" class="atName">@张三 </a> :  的撒大奥</span></div>
              <div class="date-dz">
                <span class="date-dz-left pull-left comment-time">2018-3-18 19:56:52</span>
                <div class="date-dz-right pull-right comment-pl-block">
                  <a href="javascript:;" class="removeBlock">删除</a>
                  <a href="javascript:;" class="date-dz-pl pl-hf hf-con-block pull-left">回复</a>
                  <span class="pull-left date-dz-line">|</span>
                  <a href="javascript:;" class="date-dz-z pull-left">
                    <i class="date-dz-z-click-red"></i>赞 (<i class="z-num">666</i>)
                  </a>
                </div>

                <div class="hf-con pull-left">
                  <div class="flex-text-wrap"><pre class="pre" style="padding: 6px 15px;"><span></span><br></pre><textarea class="content comment-input hf-input" placeholder="" onkeyup="keyUP(this)"></textarea></div> <a href="javascript:;" class="hf-pl">评论</a></div>
              </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div> -->
    <!--回复区域 end-->
  </div>
  <script src="/article/util.js" charset="utf-8"></script>
  <script src="/article/comment.js" charset="utf-8"></script>
  <script src="/article/fly.min.js" charset="utf-8"></script>
  <script src="/article/index.js" charset="utf-8"></script>
  <script type="text/javascript">
    let commentAjax = new articleUitl()
    let data =  {}
    let commentCtr
    commentAjax.getComment(function (data) {
      commentCtr = new comment({
        warrp: "#commentWarrp",
        data: data.data
      })
      console.log(commentCtr);
      commentCtr.bindSubmit(function (res) {
        let commentData = {
          url: window.location.href,
          title: '测试文章',
        }
        commentData = extend(commentData, res)
        console.log(11111111111111);
        commentAjax.addComment(commentData, function (res) {
          console.log(111111);
          commentCtr.preppendItem(res.data)
          return
        })
      })

      commentCtr.bindSubSubmit(function (data, target) {
        let commentData = {
          url: window.location.href,
          title: '测试文章',
        }
        commentData = extend(commentData, data)
        commentAjax.addComment(commentData, function (res) {
          console.log(res);
          commentCtr.subSubmitCallback(res.data, target)
          //commentCtr.preppendItem(res.data)
          return
        })
      })
    })

  </script>
</body>

</html>
